<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestra Historia ğŸ’™</title>
    <link rel="stylesheet" href="styles/styles-variables.css">
    <link rel="stylesheet" href="styles/styles-index-nuevo.css">
</head>
<body>
    <!-- NavegaciÃ³n Simple -->
    <nav class="navbar-simple">
        <div class="nav-content">
            <a href="index-nuevo.html" class="logo-simple">ğŸ’™ Nuestra Historia</a>
            <ul class="nav-menu-simple">
                <li><a href="#poemas">Poemas</a></li>
                <li><a href="#canciones">Canciones</a></li>
                <li><a href="#galeria">GalerÃ­a</a></li>
                <li><a href="#mensajes">Mensajes</a></li>
                <li><a href="#meses">Meses</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section - RomÃ¡ntico -->
    <section class="hero-nuevo">
        <div class="hero-bg"></div>
        <div class="hero-content-nuevo">
            <div class="hearts-animation">
                <span class="heart">â¤ï¸</span>
                <span class="heart">ğŸ¤</span>
                <span class="heart">â¤ï¸</span>
                <span class="heart">ğŸ¤</span>
                <span class="heart">â¤ï¸</span>
            </div>
            
            <h1 class="main-title">Nuestra Historia</h1>
            <p class="subtitle">Cada dÃ­a contigo es un regalo ğŸ’</p>
            
            <div class="days-counter">
                <div class="counter-box">
                    <span class="days-number" id="diasCounter">191</span>
                    <span class="days-label">DÃ­as Juntos</span>
                </div>
                <div class="couple-info">
                    <p class="since-date">Desde el 05/06/2025</p>
                    <p class="message">Te amo mÃ¡s cada dÃ­a âœ¨</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n Poemas -->
    <section class="section-wrapper" id="poemas">
        <div class="section-inner">
            <h2 class="section-title">ğŸ“ Poemas</h2>
            <p class="section-desc">Las palabras que guardÃ³ mi corazÃ³n para ti</p>
            <div class="items-preview" id="poemasPreview">
                <p class="no-items">AÃºn no hay poemas... pero aquÃ­ escribirÃ© nuestras historias ğŸŒ¹</p>
            </div>
            <div class="section-footer">
                <a href="poemas/poemas.html" class="btn-primary">Ver Todos los Poemas</a>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n Canciones -->
    <section class="section-wrapper alt" id="canciones">
        <div class="section-inner">
            <h2 class="section-title">ğŸµ Canciones</h2>
            <p class="section-desc">La mÃºsica que define nuestro amor</p>
            <div class="items-preview" id="cancionesPreview">
                <p class="no-items">Nuestras canciones favoritas estarÃ¡n aquÃ­ ğŸ¶</p>
            </div>
            <div class="section-footer">
                <a href="canciones/canciones.html" class="btn-primary">Ver Todas las Canciones</a>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n GalerÃ­a -->
    <section class="section-wrapper" id="galeria">
        <div class="section-inner">
            <h2 class="section-title">ğŸ“¸ GalerÃ­a</h2>
            <p class="section-desc">Nuestros momentos capturados en el tiempo</p>
            <div class="gallery-preview" id="galeriaPreview">
                <p class="no-items">AquÃ­ estarÃ¡n nuestros recuerdos mÃ¡s especiales ğŸ“·</p>
            </div>
            <div class="section-footer">
                <a href="galeria/galeria.html" class="btn-primary">Ver GalerÃ­a Completa</a>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n Mensajes -->
    <section class="section-wrapper alt" id="mensajes">
        <div class="section-inner">
            <h2 class="section-title">ğŸ’Œ Mensajes</h2>
            <p class="section-desc">Lo que mi corazÃ³n necesita decirte</p>
            <div class="items-preview" id="mensajesPreview">
                <p class="no-items">Mis mensajes de amor esperan por ti aquÃ­ ğŸ’•</p>
            </div>
            <div class="section-footer">
                <a href="mensajes/mensajes.html" class="btn-primary">Ver Todos los Mensajes</a>
            </div>
        </div>
    </section>

    <!-- SecciÃ³n Meses -->
    <section class="section-wrapper" id="meses">
        <div class="section-inner">
            <h2 class="section-title">ğŸ‰ Celebraciones Mensuales</h2>
            <p class="section-desc">Cada mes es un nuevo aniversario que celebrar contigo</p>
            <div class="meses-preview" id="mesesPreview">
                <p class="no-items">Nuestras celebraciones mensuales irÃ¡n aquÃ­ ğŸŠ</p>
            </div>
            <div class="section-footer">
                <a href="meses/meses.html" class="btn-primary">Ver Todos los Meses</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer-nuevo">
        <p>Hecho con ğŸ’™ para la persona que amo</p>
        <p class="footer-date">Nuestra historia comenzÃ³ el 05/06/2025 y sigue escribiÃ©ndose cada dÃ­a</p>
    </footer>

    <script>
        // Calcular dÃ­as juntos
        function calcularDiasJuntos() {
            const fechaInicio = new Date('2025-06-05');
            const hoy = new Date();
            const diferencia = hoy - fechaInicio;
            const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
            document.getElementById('diasCounter').textContent = dias;
        }

        // Cargar previews de todas las secciones
        function cargarPreviews() {
            cargarPreviewPoemas();
            cargarPreviewCanciones();
            cargarPreviewGaleria();
            cargarPreviewMensajes();
            cargarPreviewMeses();
        }

        // Poemas
        function cargarPreviewPoemas() {
            const poemas = JSON.parse(localStorage.getItem('poemas_app') || '[]');
            const container = document.getElementById('poemasPreview');
            
            if (poemas.length === 0) {
                container.innerHTML = '<p class="no-items">AÃºn no hay poemas... pero aquÃ­ escribirÃ© nuestras historias ğŸŒ¹</p>';
                return;
            }
            
            container.innerHTML = poemas.slice(0, 3).map(poema => `
                <div class="item-card">
                    <h3>${poema.titulo}</h3>
                    <p>${poema.contenido.substring(0, 100)}...</p>
                    <div class="meta">Por: ${poema.autor}</div>
                </div>
            `).join('');
        }

        // Canciones
        function cargarPreviewCanciones() {
            const canciones = JSON.parse(localStorage.getItem('canciones_app') || '[]');
            const container = document.getElementById('cancionesPreview');
            
            if (canciones.length === 0) {
                container.innerHTML = '<p class="no-items">Nuestras canciones favoritas estarÃ¡n aquÃ­ ğŸ¶</p>';
                return;
            }
            
            container.innerHTML = canciones.slice(0, 3).map(cancion => `
                <div class="item-card">
                    <h3>ğŸµ ${cancion.titulo}</h3>
                    <p><strong>${cancion.artista}</strong></p>
                    <p>${cancion.razon}</p>
                </div>
            `).join('');
        }

        // Mensajes
        function cargarPreviewMensajes() {
            const mensajes = JSON.parse(localStorage.getItem('mensajes_app') || '[]');
            const container = document.getElementById('mensajesPreview');
            
            if (mensajes.length === 0) {
                container.innerHTML = '<p class="no-items">Mis mensajes de amor esperan por ti aquÃ­ ğŸ’•</p>';
                return;
            }
            
            container.innerHTML = mensajes.slice(0, 3).map(mensaje => `
                <div class="item-card">
                    <h3>${mensaje.asunto}</h3>
                    <p>${mensaje.contenido.substring(0, 100)}...</p>
                </div>
            `).join('');
        }

        // GalerÃ­a
        function cargarPreviewGaleria() {
            const fotos = JSON.parse(localStorage.getItem('fotos_app') || '[]');
            const container = document.getElementById('galeriaPreview');
            
            if (fotos.length === 0) {
                container.innerHTML = '<p class="no-items">AquÃ­ estarÃ¡n nuestros recuerdos mÃ¡s especiales ğŸ“·</p>';
                return;
            }
            
            const galeriaHTML = fotos.slice(0, 3).map(foto => `
                <div class="gallery-item">
                    <img src="${foto.url}" alt="${foto.caption || 'Foto'}">
                </div>
            `).join('');
            
            container.innerHTML = galeriaHTML;
        }

        // Meses
        function cargarPreviewMeses() {
            const meses = JSON.parse(localStorage.getItem('meses_app') || '[]');
            const container = document.getElementById('mesesPreview');
            
            if (meses.length === 0) {
                container.innerHTML = '<p class="no-items">Nuestras celebraciones mensuales irÃ¡n aquÃ­ ğŸŠ</p>';
                return;
            }
            
            container.innerHTML = meses.slice(0, 3).map(mes => `
                <div class="mes-card">
                    <div class="mes-number">${mes.numero}</div>
                    <p><strong>Mes ${mes.numero}</strong></p>
                    <p>${mes.fecha}</p>
                    <p style="margin-top: 0.8rem; font-size: 0.95rem; color: var(--coral);">${mes.mensaje}</p>
                </div>
            `).join('');
        }

        // Smooth scroll para los links del navbar
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });

        // Inicializar
        calcularDiasJuntos();
        cargarPreviews();

        // Recargar previews cada segundo (por si hay cambios desde otra pestaÃ±a)
        setInterval(cargarPreviews, 2000);
    </script>
</body>
</html>
